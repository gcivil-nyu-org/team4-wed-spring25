{% extends 'base.html' %}
{% load i18n %}
{% load widget_tweaks %} {# 仍然需要加载 widget_tweaks 来给 reason 添加 form-control 类 #}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7">

            <h2 class="text-center mb-4 fw-semibold">{% blocktrans with username=reported_user.username %}Report {{ username }}{% endblocktrans %}</h2>

            {# 表单容器：移除 border 类，保留内边距、背景、圆角、阴影 #}
            <form method="post" id="report-form" class="p-4 bg-light rounded-3 shadow-sm">
                {% csrf_token %}
                <input type="hidden" name="next" value="{{ next }}">

                {# 类别选择区域 - 不再有内部边框 #}
                <div class="mb-4">
                    {# 标签稍作加粗并增加下边距 #}
                    <p class="form-label fw-semibold mb-3">{{ form.category.label }}:</p>
                    {# 直接排列单选按钮 #}
                    {% for radio in form.category %}
                    <div class="form-check mb-2"> {# 调整选项下方间距 #}
                        {{ radio.tag }}
                        <label class="form-check-label" for="{{ radio.id_for_label }}">
                            {{ radio.choice_label }}
                        </label>
                    </div>
                    {% endfor %}
                    {% if form.category.errors %}
                       <div class="text-danger small mt-2"> {# 错误提示位置调整 #}
                           {{ form.category.errors|striptags }}
                       </div>
                    {% endif %}
                </div>

                {# 可选的分割线，如果觉得区域间需要更明确分隔 #}
                {# <hr class="my-4"> #}

                {# 详细原因区域 #}
                <div class="mb-4">
                     <label for="{{ form.reason.id_for_label }}" class="form-label fw-semibold">{{ form.reason.label }}:</label>
                     {# reason 文本域应用 form-control 类 #}
                     {{ form.reason|add_class:"form-control" }}
                     {% if form.reason.errors %}
                        <div class="text-danger small mt-1">
                            {{ form.reason.errors|striptags }}
                        </div>
                     {% endif %}
                     <small class="form-text text-muted">{{ form.reason.help_text }}</small>
                </div>

                {# 提交按钮区域 #}
                <div class="text-end mt-4"> {# 按钮组增加上边距 #}
                    <button type="submit" class="btn btn-danger px-4 py-2"> {# 调整按钮内边距 #}
                       {# 添加 Font Awesome 图标 (确保已加载) #}
                       <i class="fas fa-paper-plane me-2"></i>
                       {% trans "Submit Report" %}
                    </button>
                </div>
            </form>

        </div> {# End col #}
    </div> {# End row #}
</div> {# End container #}

{% endblock %}